diff -Naur qtdeclarative-opensource-src-5.6.1/config.tests/double-conversion/double-conversion.pro qtdeclarative-opensource-src-5.6.1.tpg/config.tests/double-conversion/double-conversion.pro
--- qtdeclarative-opensource-src-5.6.1/config.tests/double-conversion/double-conversion.pro	1970-01-01 00:00:00.000000000 +0000
+++ qtdeclarative-opensource-src-5.6.1.tpg/config.tests/double-conversion/double-conversion.pro	2016-07-03 21:11:56.617436396 +0000
@@ -0,0 +1,6 @@
+CONFIG -= qt
+CONFIG += console
+
+SOURCES += main.cpp
+
+LIBS += -ldouble-conversion
diff -Naur qtdeclarative-opensource-src-5.6.1/config.tests/double-conversion/main.cpp qtdeclarative-opensource-src-5.6.1.tpg/config.tests/double-conversion/main.cpp
--- qtdeclarative-opensource-src-5.6.1/config.tests/double-conversion/main.cpp	1970-01-01 00:00:00.000000000 +0000
+++ qtdeclarative-opensource-src-5.6.1.tpg/config.tests/double-conversion/main.cpp	2016-07-03 21:12:48.328711914 +0000
@@ -0,0 +1,43 @@
+/****************************************************************************
+**
+** Copyright (C) 2015 Lisandro Damián Nicanor Pérez Meyer
+**                    <perezmeyer@gmail.com>
+** Contact: http://www.qt-project.org/legal
+**
+** This file is part of the QtQml module of the Qt Toolkit.
+**
+** $QT_BEGIN_LICENSE:LGPL21$
+** Commercial License Usage
+** Licensees holding valid commercial Qt licenses may use this file in
+** accordance with the commercial license agreement provided with the
+** Software or, alternatively, in accordance with the terms contained in
+** a written agreement between you and Digia. For licensing terms and
+** conditions see http://qt.digia.com/licensing. For further information
+** use the contact form at http://qt.digia.com/contact-us.
+**
+** GNU Lesser General Public License Usage
+** Alternatively, this file may be used under the terms of the GNU Lesser
+** General Public License version 2.1 or version 3 as published by the Free
+** Software Foundation and appearing in the file LICENSE.LGPLv21 and
+** LICENSE.LGPLv3 included in the packaging of this file. Please review the
+** following information to ensure the GNU Lesser General Public License
+** requirements will be met: https://www.gnu.org/licenses/lgpl.html and
+** http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html.
+**
+** In addition, as a special exception, Digia gives you certain additional
+** rights. These rights are described in the Digia Qt LGPL Exception
+** version 1.1, included in the file LGPL_EXCEPTION.txt in this package.
+**
+** $QT_END_LICENSE$
+**
+****************************************************************************/
+
+#include <double-conversion/double-conversion.h>
+
+using namespace double_conversion;
+
+int main(int, char**)
+{
+    DoubleToStringConverter(0,"inf","nan",'e',-2,5,3,3);
+    return 0;
+}
diff -Naur qtdeclarative-opensource-src-5.6.1/qtdeclarative.pro qtdeclarative-opensource-src-5.6.1.tpg/qtdeclarative.pro
--- qtdeclarative-opensource-src-5.6.1/qtdeclarative.pro	2016-05-20 20:56:32.000000000 +0000
+++ qtdeclarative-opensource-src-5.6.1.tpg/qtdeclarative.pro	2016-07-03 21:05:35.248222974 +0000
@@ -1,4 +1,10 @@
 CONFIG += tests_need_tools examples_need_tools
+
+linux {
+    load(configure)
+    qtCompileTest(double-conversion)
+}
+
 load(qt_parts)
 
 !python_available {
diff -Naur qtdeclarative-opensource-src-5.6.1/src/qml/jsruntime/jsruntime.pri qtdeclarative-opensource-src-5.6.1.tpg/src/qml/jsruntime/jsruntime.pri
--- qtdeclarative-opensource-src-5.6.1/src/qml/jsruntime/jsruntime.pri	2016-05-20 20:56:32.000000000 +0000
+++ qtdeclarative-opensource-src-5.6.1.tpg/src/qml/jsruntime/jsruntime.pri	2016-07-03 21:03:38.786691100 +0000
@@ -113,4 +113,9 @@
 
 ios: DEFINES += ENABLE_ASSEMBLER_WX_EXCLUSIVE=1
 
-include(../../3rdparty/double-conversion/double-conversion.pri)
+config_double-conversion {
+    DEFINES += SYSTEM_DOUBLECONVERSION
+    LIBS_PRIVATE += -ldouble-conversion
+} else {
+    include(../../3rdparty/double-conversion/double-conversion.pri)
+}
diff -Naur qtdeclarative-opensource-src-5.6.1/src/qml/jsruntime/qv4numberobject.cpp qtdeclarative-opensource-src-5.6.1.tpg/src/qml/jsruntime/qv4numberobject.cpp
--- qtdeclarative-opensource-src-5.6.1/src/qml/jsruntime/qv4numberobject.cpp	2016-05-20 20:56:32.000000000 +0000
+++ qtdeclarative-opensource-src-5.6.1.tpg/src/qml/jsruntime/qv4numberobject.cpp	2016-07-03 21:03:06.565594145 +0000
@@ -39,7 +39,12 @@
 #include <QtCore/qmath.h>
 #include <QtCore/QDebug>
 #include <cassert>
+
+#ifdef SYSTEM_DOUBLECONVERSION
+#include <double-conversion/double-conversion.h>
+#else
 #include <double-conversion.h>
+#endif
 
 using namespace QV4;
 
diff -Naur qtdeclarative-opensource-src-5.6.1/src/qml/jsruntime/qv4runtime.cpp qtdeclarative-opensource-src-5.6.1.tpg/src/qml/jsruntime/qv4runtime.cpp
--- qtdeclarative-opensource-src-5.6.1/src/qml/jsruntime/qv4runtime.cpp	2016-05-20 20:56:32.000000000 +0000
+++ qtdeclarative-opensource-src-5.6.1.tpg/src/qml/jsruntime/qv4runtime.cpp	2016-07-03 21:02:19.057123191 +0000
@@ -60,7 +60,11 @@
 
 #include <wtf/MathExtras.h>
 
-#include "../../3rdparty/double-conversion/double-conversion.h"
+#ifdef SYSTEM_DOUBLECONVERSION
+#include <double-conversion/double-conversion.h>
+#else
+#include <double-conversion.h>
+#endif
 
 #ifdef QV4_COUNT_RUNTIME_FUNCTIONS
 #  include <QtCore/QBuffer>
