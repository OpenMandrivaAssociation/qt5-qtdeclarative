#!/bin/sh

# The Requires generator is disabled for now, until the
# Provides generator has been enabled long enough to
# make sure we don't have to run an extra mass build
exit 0

while read r; do
	echo $r |grep -qE '\.qml$' || continue
	grep -E '^[[:space:]]*import[[:space:]]*' $r |cut -d: -f2- |while read l; do
		L="$(echo $l |tr -s '[:blank:]' | sed -e 's/^[[:space:]]*//')"
		echo "qml($(echo $L |cut -d' ' -f2)) >= $(echo $L |cut -d' ' -f3)"
	done
done | sort | uniq
